mixin traveler-card(wrapperClass, title, text, options = {})
  -
    var defaultIcons = [
      {name: "icon-plane", width: "23", height: "22", tooltip: "Авиаперелёт"},
      {name: "icon-bus", width: "18", height: "20", tooltip: "Автотранспорт"},
      {name: "icon-bicycle", width: "25", height: "25", tooltip: "Велосипед"},
      {name: "icon-run", width: "22", height: "24", tooltip: "Пешком"}
    ]

    var activeIcons = defaultIcons.filter(icon => icon.width && icon.height)

    var flags = (options && options.flags)

  li.traveler-card(class=wrapperClass + '__item')&attributes(attributes)
    div(class=wrapperClass + '__item-info')
      h3!= title
      p!= text
    div(class=wrapperClass + '__item-level')
      h3 Левел:
      p= options.levelCounter
      span level
      svg(width="60", height="60", viewbox="0 0 38.16 38.16", fill="none")
        circle(r="15.9", cx="19.08", cy="19.08")
    div(class=wrapperClass + '__item-image', class=wrapperClass + '__item-image--main')
      +picture("content", options.image, "png", 285, options.height, options.altText)
    if (options && options.image2)
      div(class=wrapperClass + '__item-image', class=wrapperClass + '__item-image--tablet')
        +picture("content", options.image2, 'png', 190, options.height, options.altText)
    div(class=wrapperClass + '__item-icons')
      h4 Транспорт:
      div(class=wrapperClass + '__item-icons-wrapper')
        each icon in activeIcons
          div(class=wrapperClass + '__item-icon-wrapper', class=wrapperClass + '__item-icon-wrapper--' + icon.name.replace('icon-', ''))
            span(class=wrapperClass + '__item-icon')
              +icon(icon.name, icon.width, icon.height)
            span(class=wrapperClass + '__item-tooltip')= icon.tooltip
              span(class=wrapperClass + '__item-tooltip-icon')
                +icon('icon-arrow-filter', 16, 10)
    if flags && flags.length > 0
      div(class=wrapperClass + '__item-flags-wrapper')
        each flag, index in flags
          - var flagAlt = (options.flagAlts && options.flagAlts[index]) ? options.flagAlts[index] : 'Флаг страны'
          - var flagText = (options.flagTexts && options.flagTexts[index]) ? options.flagTexts[index] : ''
          div(class=wrapperClass + '__item-flag-wrapper')
            span(class=wrapperClass + '__item-flag-icon')
              +img("vector", flag, "svg", 35, 24, flagAlt)
            if flagText
              span(class=wrapperClass + '__item-flag-text')= flagText
              span(class=wrapperClass + '__item-flag-tooltip')= flagText
                span(class=wrapperClass + '__item-flag-tooltip-icon')
                  +icon('icon-arrow-filter', 16, 10)
    if (options && options.likesCounter)
      button(class=wrapperClass + '__item-call-button') Позвать!
      div(class=wrapperClass + '__item-call-wrapper')
        button(class=wrapperClass + '__item-call-icons', class=wrapperClass + '__item-call-icons--notliked')
          +icon('icon-heart', 20, 18)(class=wrapperClass + '__item-call-icon-default')
          +icon('icon-heart-fill', 20, 18)(class=wrapperClass + '__item-call-icon-closed')
        span(class=wrapperClass + '__item-call-likes')= options.likesCounter
    if (options && options.wantText)
      span(class=wrapperClass + '__item-want') Хочет посетить:
